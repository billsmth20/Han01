<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk">
<title>两个Arduino之间进行SPI通信 -  Powered by Discuz!</title>
<link href="http://www.geek-workshop.com/thread-4781-1-1.html" rel="canonical">
<meta name="keywords" content="极客工坊  两个Arduino之间进行SPI通信  Arduino 教程中文 论坛">
<meta name="description" content="极客工坊 ">
<meta name="generator" content="Discuz! X3.2">
<meta name="author" content="Discuz! Team and Comsenz UI Team">
<meta name="copyright" content="2001-2013 Comsenz Inc.">
<meta name="MSSmartTagsPreventParsing" content="True">
<meta http-equiv="MSThemeCompatible" content="Yes">
<!-- base href="http://www.geek-workshop.com/" --><link rel="stylesheet" type="text/css" href="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/style_1_common.css"><link rel="stylesheet" type="text/css" href="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/style_1_forum_viewthread.css"><script type="text/javascript" charset="utf-8" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/NTE0MDQzMA.js"></script><script type="text/javascript">var STYLEID = '1', STATICURL = 'static/', IMGDIR = 'static/image/common', VERHASH = 'C8b', charset = 'gbk', discuz_uid = '0', cookiepre = 'X0pE_2132_', cookiedomain = '', cookiepath = '/', showusercard = '1', attackevasive = '0', disallowfloat = 'newthread', creditnotice = '1|威望|,2|铜板|,3|金币|,6|仔币|', defaultstyle = '', REPORTURL = 'aHR0cDovL3d3dy5nZWVrLXdvcmtzaG9wLmNvbS90aHJlYWQtNDc4MS0xLTEuaHRtbA==', SITEURL = 'http://www.geek-workshop.com/', JSPATH = 'static/js/', CSSPATH = 'data/cache/style_', DYNAMICURL = '';</script>
<script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/common.js" type="text/javascript"></script>
<meta name="application-name" content="极客工坊">
<meta name="msapplication-tooltip" content="极客工坊">
<meta name="msapplication-task" content="name=门户;action-uri=http://www.geek-workshop.com/portal.php;icon-uri=http://www.geek-workshop.com/static/image/common/portal.ico"><meta name="msapplication-task" content="name=论坛;action-uri=http://www.geek-workshop.com/forum.php;icon-uri=http://www.geek-workshop.com/static/image/common/bbs.ico">
<link rel="archives" title="极客工坊" href="http://www.geek-workshop.com/archiver/">
<script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/forum.js" type="text/javascript"></script>
</head>

<body id="nv_forum" class="pg_viewthread" onkeydown="if(event.keyCode==27) return false;">
<div id="append_parent"><div id="ls_fastloginfield_ctrl_menu" class="sltm" style="display: none; width: 40px;"><ul><li class="current">用户名</li><li>Email</li></ul></div></div><div id="ajaxwaitid"></div>
<div id="toptb" class="cl">
<div class="wp">
<div class="z"><a href="javascript:;" onclick="setHomepage('http://www.geek-workshop.com/');">设为首页</a><a href="http://www.geek-workshop.com/" onclick="addFavorite(this.href, '极客工坊');return false;">收藏本站</a><script type="text/javascript">var _speedMark = new Date();</script></div>
<div class="y">
<a id="switchblind" href="javascript:;" onclick="toggleBlind(this)" title="开启辅助访问" class="switchblind">开启辅助访问</a>
<a href="javascript:;" id="switchwidth" onclick="widthauto(this)" title="切换到宽版" class="switchwidth">切换到宽版</a>
</div>
</div>
</div>

<div id="qmenu_menu" class="p_pop blk" style="display: none;">
<div class="ptm pbw hm">
请 <a href="javascript:;" class="xi2" onclick="lsSubmit()"><strong>登录</strong></a> 后使用快捷导航<br>没有帐号？<a href="http://www.geek-workshop.com/member.php?mod=register" class="xi2 xw1">注册</a>
</div>
<div id="fjump_menu" class="btda"></div></div><div id="hd">
<div class="wp">
<div class="hdc cl"><h2><a href="http://www.geek-workshop.com/" title="极客工坊"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/logo.png" alt="极客工坊" border="0"></a></h2><script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/logging.js" type="text/javascript"></script>
<form method="post" autocomplete="off" id="lsform" action="member.php?mod=logging&amp;action=login&amp;loginsubmit=yes&amp;infloat=yes&amp;lssubmit=yes" onsubmit="pwmd5('ls_password');return lsSubmit();">
<div class="fastlg cl">
<span id="return_ls" style="display:none"></span>
<div class="y pns">
<table cellspacing="0" cellpadding="0">
<tbody><tr>
<td>
<span class="ftid">
<select name="fastloginfield" id="ls_fastloginfield" width="40" tabindex="900" selecti="0" style="display: none;">


<option value="username" selected="selected"></option></select><a href="javascript:;" id="ls_fastloginfield_ctrl" style="width:40px" tabindex="900">用户名</a>
</span>
<script type="text/javascript">simulateSelect('ls_fastloginfield')</script>
</td>
<td><input name="username" id="ls_username" autocomplete="off" class="px vm" tabindex="901" type="text"></td>
<td class="fastlg_l"><label for="ls_cookietime"><input name="cookietime" id="ls_cookietime" class="pc" value="2592000" tabindex="903" type="checkbox">自动登录</label></td>
<td>&nbsp;<a href="javascript:;" onclick="showWindow('login', 'member.php?mod=logging&amp;action=login&amp;viewlostpw=1')">找回密码</a></td>
</tr>
<tr>
<td><label for="ls_password" class="z psw_w">密码</label></td>
<td><input name="password" id="ls_password" class="px vm" autocomplete="off" tabindex="902" type="password"></td>
<td class="fastlg_l"><button type="submit" class="pn vm" tabindex="904" style="width: 75px;"><em>登录</em></button></td>
<td>&nbsp;<a href="http://www.geek-workshop.com/member.php?mod=register" class="xi2 xw1">注册</a></td>
</tr>
</tbody></table>
<input name="quickforward" value="yes" type="hidden">
<input name="handlekey" value="ls" type="hidden">
</div>

<div class="fastlg_fm y" style="margin-right: 10px; padding-right: 10px">
<p><a href="http://www.geek-workshop.com/connect.php?mod=login&amp;op=init&amp;referer=forum.php%3Fmod%3Dviewthread%26tid%3D4781%26extra%3Dpage%253D1%26page%3D1&amp;statfrom=login_simple"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/qq_login.gif" class="vm" alt="QQ登录"></a></p>
<p class="hm xg1" style="padding-top: 2px;">只需一步，快速开始</p>
</div>
</div>
</form>

<script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/md5.js" type="text/javascript" reload="1"></script>
</div>

<div id="nv" style="top: 0px; left: 200.5px; z-index: 199; border-left-width: 0px; border-right-width: 0px; height: 33px; width: 960px; position: fixed; opacity: 0.85;">
<a href="javascript:;" id="qmenu" onmouseover="delayShow(this, function () {showMenu({'ctrlid':'qmenu','pos':'34!','ctrlclass':'a','duration':2});showForummenu(49);})">快捷导航</a>
<ul><li class="a" id="mn_forum"><a href="http://www.geek-workshop.com/forum.php" hidefocus="true" title="BBS">论坛<span>BBS</span></a></li><li id="mn_P1"><a href="http://www.geek-workshop.com/portal.php?mod=list&amp;catid=1" hidefocus="true">Arduino精华</a></li><li id="mn_N93e9"><a href="http://wiki.geek-workshop.com/" hidefocus="true">WIKI</a></li><li id="mn_N67f1"><a href="http://ocrobot.taobao.com/" hidefocus="true" target="_blank">淘宝杂货铺</a></li><li id="mn_Nf1db"><a href="http://weibo.com/GeekWorkshop" hidefocus="true" target="_blank" style="color: yellow">官方微博</a></li><li id="mn_Nd304"><a href="http://shang.qq.com/wpa/qunwpa?idkey=8fe2da0d73a887bd53348a8b99b1e9cb1d80e397c77827e2cb0c769b42038d18" hidefocus="true" target="_blank" style="color: yellow">官方QQ群</a></li><li id="mn_N5a5f"><a href="http://wiki.geek-workshop.com/doku.php?id=about" hidefocus="true">关于我们</a></li></ul>
</div>
<div class="p_pop h_pop" id="mn_userapp_menu" style="display: none"></div><div id="mu" class="cl">
</div><div id="scbar" class="scbar_narrow cl">
<form id="scbar_form" method="post" autocomplete="off" onsubmit="searchFocus($('scbar_txt'))" action="search.php?searchsubmit=yes" target="_blank">
<input name="mod" id="scbar_mod" value="forum" type="hidden">
<input name="formhash" value="f1638613" type="hidden">
<input name="srchtype" value="title" type="hidden">
<input name="srhfid" value="49" type="hidden">
<input name="srhlocality" value="forum::viewthread" type="hidden">
<table cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="scbar_icon_td"></td>
<td class="scbar_txt_td"><input name="srchtxt" id="scbar_txt" autocomplete="off" x-webkit-speech="" speech="" class=" xg1" placeholder="请输入搜索内容" type="text"></td>
<td class="scbar_type_td"><a href="javascript:;" id="scbar_type" class="xg1" onclick="showMenu(this.id)" hidefocus="true">帖子</a></td>
<td class="scbar_btn_td"><button type="submit" name="searchsubmit" id="scbar_btn" sc="1" class="pn pnc" value="true"><strong class="xi2">搜索</strong></button></td>
<td class="scbar_hot_td">
<div id="scbar_hot">
<strong class="xw1">热搜: </strong>

<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=mpu6050&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">mpu6050</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%C0%B6%D1%C0&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">蓝牙</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%B4%AE%BF%DA&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">串口</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=PID&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">PID</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=12864&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">12864</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%BA%EC%CD%E2&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">红外</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%D0%A1%B3%B5&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">小车</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=MPU6050&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">MPU6050</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=1602&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">1602</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=GPS&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">GPS</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%B6%E6%BB%FA&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">舵机</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%D7%EE%D0%A1%CF%B5%CD%B3&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">最小系统</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=android&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">android</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%B4%AE%BF%DA%CD%A8%D0%C5&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">串口通信</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=gps&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">gps</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%BC%CC%B5%E7%C6%F7&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">继电器</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%D6%D0%B6%CF&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">中断</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%B5%E3%D5%F3&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">点阵</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=%C3%E6%B0%FC%B0%E5&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">面包板</a>



<a href="http://www.geek-workshop.com/search.php?mod=forum&amp;srchtxt=6050&amp;formhash=f1638613&amp;searchsubmit=true&amp;source=hotsearch" target="_blank" class="xi2" sc="1">6050</a>

</div>
</td>
</tr>
</tbody></table>
</form>
</div>
<ul id="scbar_type_menu" class="p_pop" style="display: none;"><li><a href="javascript:;" rel="curforum" fid="49">本版</a></li><li><a href="javascript:;" rel="article">文章</a></li><li><a href="javascript:;" rel="forum" class="curtype">帖子</a></li><li><a href="javascript:;" rel="user">用户</a></li></ul>
<script type="text/javascript">
initSearchmenu('scbar', '');
</script>
</div>
</div>

<link rel="stylesheet" href="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/default.css"><link rel="stylesheet" href="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/code.css"><script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/highlight.js"></script><script>hljs.initHighlightingOnLoad();</script>
<div id="wp" class="wp">
<script type="text/javascript">var fid = parseInt('49'), tid = parseInt('4781');</script>

<script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/forum_viewthread.js" type="text/javascript"></script>
<script type="text/javascript">zoomstatus = parseInt(1);var imagemaxwidth = '600';var aimgcount = new Array();</script>

<style id="diy_style" type="text/css"></style>
<!--[diy=diynavtop]--><div id="diynavtop" class="area"></div><!--[/diy]-->
<div id="pt" class="bm cl">
<div class="z">
<a href="http://www.geek-workshop.com/" class="nvhm" title="首页">极客工坊</a><em>&#187;</em><a href="http://www.geek-workshop.com/forum.php">论坛</a> <em>&#8250;</em> <a href="http://www.geek-workshop.com/forum.php?gid=48">开源软硬件</a> <em>&#8250;</em> <a href="http://www.geek-workshop.com/forum-49-1.html">Arduino</a> <em>&#8250;</em> <a href="http://www.geek-workshop.com/thread-4781-1-1.html">两个Arduino之间进行SPI通信</a>
</div>
</div>

<style id="diy_style" type="text/css"></style>
<div class="wp">
<!--[diy=diy1]--><div id="diy1" class="area"></div><!--[/diy]-->
</div>

<div id="ct" class="wp cl">
<div id="pgt" class="pgs mbm cl ">
<div class="pgt"><div class="pg"><strong>1</strong><a href="http://www.geek-workshop.com/thread-4781-2-1.html">2</a><a href="http://www.geek-workshop.com/thread-4781-3-1.html">3</a><a href="http://www.geek-workshop.com/thread-4781-4-1.html">4</a><label><input name="custompage" class="px" size="2" title="输入页码，按回车快速跳转" value="1" onkeydown="if(event.keyCode==13) {window.location='forum.php?mod=viewthread&amp;tid=4781&amp;extra=page%3D1&amp;page='+this.value;; doane(event);}" type="text"><span title="共 4 页"> / 4 页</span></label><a href="http://www.geek-workshop.com/thread-4781-2-1.html" class="nxt">下一页</a></div></div>
<span class="y pgb" id="visitedforums" onmouseover="$('visitedforums').id = 'visitedforumstmp';this.id = 'visitedforums';showMenu({'ctrlid':this.id,'pos':'34'})"><a href="http://www.geek-workshop.com/forum-49-1.html">返回列表</a></span>
<a id="newspecial" onmouseover="$('newspecial').id = 'newspecialtmp';this.id = 'newspecial';showMenu({'ctrlid':this.id})" onclick="showWindow('newthread', 'forum.php?mod=post&amp;action=newthread&amp;fid=49')" href="javascript:;" title="发新帖"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/pn_post.png" alt="发新帖"></a></div>



<div id="postlist" class="pl bm">
<table cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls ptn pbn">
<div class="hm ptn">
<span class="xg1">查看:</span> <span class="xi1">30751</span><span class="pipe">|</span><span class="xg1">回复:</span> <span class="xi1">39</span>
</div>
</td>
<td class="plc ptm pbn vwthd">
<div class="y">
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;action=printable&amp;tid=4781" title="打印" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/print.png" alt="打印" class="vm"></a>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=nextoldset&amp;tid=4781" title="上一主题"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/thread-prev.png" alt="上一主题" class="vm"></a>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=nextnewset&amp;tid=4781" title="下一主题"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/thread-next.png" alt="下一主题" class="vm"></a>
</div>
<h1 class="ts">
<span id="thread_subject">两个Arduino之间进行SPI通信</span>
</h1>
<span class="xg1">
&nbsp;<img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/recommend_1.gif" alt="" title="评价指数 3">
<a href="http://www.geek-workshop.com/thread-4781-1-1.html" onclick="return copyThreadUrl(this, '极客工坊')">[复制链接]</a>
</span>
</td>
</tr>
</tbody></table>


<table class="ad" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table><div id="post_35156"><table id="pid35156" class="plhin" summary="pid35156" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar35156" class="pls favatar" style="top: 33px; position: fixed;">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xw1">shenhaiyu</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo35156" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo35156_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xi2">shenhaiyu</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" class="xi2">2260</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_005.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<div id="fj" class="y">
<label class="z">电梯直达</label>
<input class="px p_fre z" size="2" onkeyup="$('fj_btn').href='forum.php?mod=redirect&amp;ptid=4781&amp;authorid=0&amp;postno='+this.value" onkeydown="if(event.keyCode==13) {window.location=$('fj_btn').href;return false;}" title="跳转到指定楼层" type="text">
<a href="javascript:;" id="fj_btn" class="z" title="跳转到指定楼层"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/fj_btn.png" alt="跳转到指定楼层" class="vm"></a>
</div>
<strong>
<a href="http://www.geek-workshop.com/thread-4781-1-1.html" id="postnum35156" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
楼主</a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon35156" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton35156">发表于 2013-5-30 16:37:16</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=2839" rel="nofollow">只看该作者</a>
<span class="pipe">|</span><a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;from=album">只看大图</a>
<span class="none"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/arw_r.gif" class="vm" alt="回帖奖励"></span>
<span class="pipe show">|</span><a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;extra=page%3D1&amp;ordertype=1" class="show">倒序浏览</a>
<span class="pipe show">|</span><a href="javascript:;" onclick="readmode($('thread_subject').innerHTML, 35156);" class="show">阅读模式</a>
</div>
</div>
</div><div class="pct"><style type="text/css">.pcb{margin-right:0}</style><div class="pcb">
 
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_35156">
原文地址：<a href="http://www.gammon.com.au/forum/?id=10892" target="_blank">http://www.gammon.com.au/forum/?id=10892</a><br>
<br>
最近需要研究一下两台Arduino之间使用SPI通信的例子，搜了一下，只有国外大神们做过这种通讯，我们的坛子上找不到相关的资料，于是我结合自己的研究把这一通讯方式记录下来，给需要的同学们作参考：<br>
<br>
使用两块Arduino UNO，一主一从。<br>
<br>
Arduino UNO A: SPI 主机<br>
Arduino UNO B: SPI 从机<br>
<br>
连线方式：<br>
&nbsp; &nbsp;&nbsp; &nbsp;A--------------------B<br>
(10) SS----------&gt;(10) SS<br>
(11) MOSI-------&gt;(11) MOSI<br>
(12) MISO&lt;-------(12) MISO<br>
(13) SCLK-------&gt;(13) SCLK<br>

<ignore_js_op>

<img id="aimg_12487" aid="12487" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/161319nxfe7nyz89zkz664.jpg" zoomfile="http://image.geek-workshop.com/forum/201305/30/161319nxfe7nyz89zkz664.jpg" file="http://image.geek-workshop.com/forum/201305/30/161319nxfe7nyz89zkz664.jpg" class="zoom" onclick="zoom(this, this.src, 0, 0, 0)" inpost="1" onmouseover="showMenu({'ctrlid':this.id,'pos':'12'})" lazyloaded="true" initialized="true" width="600" height="912">

<div class="tip tip_4 aimg_tip" id="aimg_12487_menu" style="position: absolute; z-index: 301; left: 382.5px; top: 566px; display: none;" disautofocus="true" initialized="true">
<div class="xs0">
<p><strong>SPI_Master_to_Slave_photo.jpg</strong> <em class="xg1">(142.05 KB, 下载次数: 72)</em></p>
<p>
<a href="http://www.geek-workshop.com/forum.php?mod=attachment&amp;aid=MTI0ODd8MDZiMDcyNGN8MTQ4MDEzNzI1OXwwfDQ3ODE%3D&amp;nothumb=yes" target="_blank">下载附件</a>

&nbsp;<a href="javascript:;" onclick="showWindow(this.id, this.getAttribute('url'), 'get', 0);" id="savephoto_12487" url="home.php?mod=spacecp&amp;ac=album&amp;op=saveforumphoto&amp;aid=12487&amp;handlekey=savephoto_12487">保存到相册</a>

</p>

<p class="xg1 y">2013-5-30 16:13 上传</p>

</div>
<div class="tip_horn"></div>
</div>

</ignore_js_op>
<br>
<br>
主机从机分别写入如下代码：<br>
<br>
从机：<br>
<br>
[pre lang="arduino" line="1"]#include &lt;SPI.h&gt;<br>
<br>
void setup (void)<br>
{<br>
&nbsp;&nbsp;Serial.begin(9600);&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;// 开始串口通讯<br>
&nbsp;&nbsp;digitalWrite(SS, HIGH);<br>
&nbsp;&nbsp;SPI.begin ();&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;// PI通讯开始<br>
&nbsp;&nbsp;//SPI.setClockDivider(SPI_CLOCK_DIV8); //？？<br>
}<br>
<br>
void loop (void)<br>
{<br>
&nbsp;&nbsp;char c;<br>
<br>
&nbsp;&nbsp;// 片选为从机<br>
&nbsp;&nbsp;digitalWrite(SS, LOW);&nbsp; &nbsp; // SS - pin 10<br>
<br>
&nbsp;&nbsp;// 发送字串<br>
&nbsp;&nbsp;for (const char * p = "Hello, world!\n" ; c = *p; p++) {<br>
&nbsp; &nbsp; SPI.transfer (c);<br>
&nbsp; &nbsp; Serial.print(c);<br>
&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;// 取消从机<br>
&nbsp;&nbsp;digitalWrite(SS, HIGH);<br>
&nbsp;&nbsp;delay (1000);<br>
}[/pre]<br>
<br>
<br>
主机：<br>
<br>
[pre lang="arduino" line="1"]#include &lt;SPI.h&gt;<br>
<br>
char buf [100];<br>
volatile byte pos;<br>
volatile boolean process_it;<br>
<br>
void setup (void)<br>
{<br>
&nbsp;&nbsp;Serial.begin (9600);<br>
<br>
&nbsp;&nbsp;// have to send on master in, *slave out*<br>
&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>
<br>
&nbsp;&nbsp;// 设置为接收状态<br>
&nbsp;&nbsp;SPCR |= _BV(SPE);<br>
<br>
&nbsp;&nbsp;// 准备接受中断<br>
&nbsp;&nbsp;pos = 0;&nbsp; &nbsp;// 清空缓冲区<br>
&nbsp;&nbsp;process_it = false;<br>
<br>
&nbsp;&nbsp;// 开启中断<br>
&nbsp;&nbsp;SPI.attachInterrupt();<br>
}<br>
<br>
<br>
// SPI 中断程序<br>
ISR (SPI_STC_vect)<br>
{<br>
&nbsp;&nbsp;byte c = SPDR;&nbsp;&nbsp;// 从 SPI 数据寄存器获取数据<br>
&nbsp;&nbsp;if (pos &lt; sizeof(buf))<br>
&nbsp;&nbsp;{<br>
&nbsp; &nbsp; buf [pos++] = c;<br>
&nbsp; &nbsp; if (c == '\n')<br>
&nbsp; &nbsp;&nbsp; &nbsp;process_it = true;<br>
&nbsp;&nbsp;}<br>
}<br>
<br>
void loop (void)<br>
{<br>
&nbsp;&nbsp;if (process_it)<br>
&nbsp;&nbsp;{<br>
&nbsp; &nbsp; buf [pos] = 0;&nbsp;&nbsp;<br>
&nbsp; &nbsp; Serial.println (buf);<br>
&nbsp; &nbsp; pos = 0;<br>
&nbsp; &nbsp; process_it = false;<br>
&nbsp;&nbsp;} <br>
}[/pre]<br>
<br>
写入后打开各自的串口监视器，就能看到两个Arduino进行字串通信了。</td></tr></tbody></table>


</div>
<div id="comment_35156" class="cm">
</div>

<h3 class="psth xs1"><span class="icon_ring vm"></span>评分</h3>
<dl id="ratelog_35156" class="rate">
<dd style="margin:0">
<div id="post_rate_35156"></div>
<table class="ratl">
<tbody><tr>
<th class="xw1" width="120"><a href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=viewratings&amp;tid=4781&amp;pid=35156" onclick="showWindow('viewratings', this.href)" title="查看全部评分"> 参与人数 <span class="xi1">1</span></a></th><th class="xw1" width="80">威望 <i><span class="xi1">+1</span></i></th>
<th>
<a href="javascript:;" onclick="toggleRatelogCollapse('ratelog_35156', this);" class="y xi2 op">收起</a>
<i class="txt_h">理由</i>
</th>
</tr>
</tbody><tbody class="ratl_l"><tr id="rate_35156_87">
<td>
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=87" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_002.jpg"></a> <a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=87" target="_blank">幻生幻灭</a>
</td><td class="xi1"> + 1</td>
<td class="xg1">赞一个!</td>
</tr>
</tbody>
</table>
<p class="ratc">
<a href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=viewratings&amp;tid=4781&amp;pid=35156" onclick="showWindow('viewratings', this.href)" title="查看全部评分" class="xi2">查看全部评分</a>
</p>
</dd>
</dl>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
<div id="p_btn" class="mtw mbm hm cl">
<div class="tshare cl">
<b>分享到:&nbsp;</b>


<a href="http://www.geek-workshop.com/home.php?mod=spacecp&amp;ac=plugin&amp;id=qqconnect:spacecp&amp;pluginop=share&amp;sh_type=4&amp;thread_id=4781" id="k_share_to_qq" title="QQ好友和群" target="_blank"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/qq_share.png" alt="QQ好友和群">QQ好友和群</i></a>
<a href="javascript:void(0);" id="k_qqshare" onclick="postToQzone();" title="QQ空间"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/qzone.gif" alt="QQ空间">QQ空间</i></a>
<a href="javascript:void(0)" onclick="postToWb();" id="k_weiboshare" title="腾讯微博"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/weibo.png" alt="腾讯微博">腾讯微博</i></a>
<a href="javascript:void(0);" onclick="postToPengyou();" id="k_pengyoushare" title="腾讯朋友"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/pengyou.png" alt="腾讯朋友">腾讯朋友</i></a>
<script type="text/javascript">
function postToWb(){
var _t = encodeURI(document.title);
var _url = encodeURIComponent(document.location);
var _appkey = encodeURI("ce7fb946290e4109bdc9175108b6db3a");
var _pic = "http%3A%2F%2Fwww.geek-workshop.com%2Fforum.php%3Fmod%3Dimage%26aid%3D12487%26size%3D400x400%26key%3D0624ffd8cb6b9fe1%26nocache%3Dyes%26type%3Dfixnone";
var _site = encodeURIComponent("极客工坊");
var _from = 'discuz';
var _u = 'http://v.t.qq.com/share/share.php?url='+_url+'&appkey='+_appkey+'&site='+_site+'&pic='+_pic+'&title='+_t+'&from='+_from;
window.open( _u,'', 'width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no' );
}
function postToPengyou(){
var _url = encodeURIComponent(document.location.href);
var _site = encodeURIComponent("极客工坊");
var _title = encodeURIComponent("两个Arduino之间进行SPI通信");
var _pics = "http%3A%2F%2Fwww.geek-workshop.com%2Fforum.php%3Fmod%3Dimage%26aid%3D12487%26size%3D400x400%26key%3D0624ffd8cb6b9fe1%26nocache%3Dyes%26type%3Dfixnone";
var _from = 'discuz';
var _u = 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&url='+_url+'&site='+_site+'&title='+_title+'&pics='+_pics+'&from='+_from;
window.open(_u);
}
</script>
	

</div>

<a href="http://www.geek-workshop.com/home.php?mod=spacecp&amp;ac=favorite&amp;type=thread&amp;id=4781&amp;formhash=f1638613" id="k_favorite" onclick="showWindow(this.id, this.href, 'get', 0);" onmouseover="this.title = $('favoritenumber').innerHTML + ' 人收藏'" title="收藏本帖"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/fav.gif" alt="收藏">收藏<span id="favoritenumber">11</span></i></a>
<a id="recommend_add" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=recommend&amp;do=add&amp;tid=4781&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = $('recommendv_add').innerHTML + ' 人支持'" title="顶一下"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/rec_add.gif" alt="支持">支持<span id="recommendv_add">3</span></i></a>
<a id="recommend_subtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=recommend&amp;do=subtract&amp;tid=4781&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = $('recommendv_subtract').innerHTML + ' 人反对'" title="踩一下"><i><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/rec_subtract.gif" alt="反对">反对<span id="recommendv_subtract" style="display:none">0</span></i></a>
</div>
</td>
</tr>
<tr id="_postposition35156"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;reppost=35156&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
</em>

<p>
<a href="javascript:;" id="mgc_post_35156" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport35156', 'misc.php?mod=report&amp;rtype=post&amp;rid=35156&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_35156_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_35156')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
<script type="text/javascript" reload="1">
aimgcount[35156] = ['12487'];
attachimggroup(35156);
var aimgfid = 0;
</script>
</div><div id="post_35172"><table id="pid35172" class="plhin" summary="pid35172" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar35172" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7578" target="_blank" class="xw1">hmjack2008</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo35172" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo35172_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7578" target="_blank" class="xi2">hmjack2008</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7578&amp;do=profile" target="_blank" class="xi2">1649</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7578&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7578" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=35172" id="postnum35172" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
沙发</a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon35172" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton35172">发表于 2013-5-30 18:10:41</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=7578" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_35172">
LZ 的&nbsp;&nbsp;"<strong><font color="Red">从机：/ 主机：</font></strong>" 代码 与 原文地址 (http://www.gammon.com.au/forum/?id=10892) 的相反 !!</td></tr></tbody></table>


</div>
<div id="comment_35172" class="cm">
</div>

<div id="post_rate_div_35172"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition35172"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=35172&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=35172&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_35172').innerHTML ? $('review_support_35172').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_35172"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=35172&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_35172').innerHTML ? $('review_against_35172').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_35172"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_35172" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport35172', 'misc.php?mod=report&amp;rtype=post&amp;rid=35172&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_35172_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_35172')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
</div><div id="post_35205"><table id="pid35205" class="plhin" summary="pid35205" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar35205" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xw1">shenhaiyu</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo35205" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo35205_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xi2">shenhaiyu</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" class="xi2">2260</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_005.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=35205" id="postnum35205" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
板凳</a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon35205" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/ico_lz.png">
&nbsp;楼主<span class="pipe">|</span>
<em id="authorposton35205">发表于 2013-5-30 22:39:13</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=2839" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_35205">
<div class="quote"><blockquote><font size="2"><font color="#999999">hmjack2008 发表于 2013-5-30 18:10</font> <a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;pid=35172&amp;ptid=4781" target="_blank"><img id="aimg_A2212" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="static/image/common/back.gif" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" alt="" style="" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/back.gif" lazyloaded="true" _load="1" width="13" height="13" border="0"></a></font><br>
LZ 的&nbsp;&nbsp;"从机：/ 主机：" 代码 与 原文地址 (http://www.gammon.com.au/forum/?id=10892) 的相反 !!</blockquote></div><br>
好吧，反正能通信就是了~~~</td></tr></tbody></table>


</div>
<div id="comment_35205" class="cm">
</div>

<div id="post_rate_div_35205"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition35205"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=35205&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=35205&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_35205').innerHTML ? $('review_support_35205').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_35205"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=35205&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_35205').innerHTML ? $('review_against_35205').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_35205"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_35205" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport35205', 'misc.php?mod=report&amp;rtype=post&amp;rid=35205&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_35205_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_35205')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
<script type="text/javascript" reload="1">
aimgcount[35205] = ['A2212'];
attachimggroup(35205);
var aimgfid = 0;
</script>
</div><div id="post_35310"><table id="pid35310" class="plhin" summary="pid35310" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar35310" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=1992" target="_blank" class="xw1">friskit</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo35310" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo35310_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=1992" target="_blank" class="xi2">friskit</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=1992&amp;do=profile" target="_blank" class="xi2">1419</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=1992&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=1992" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar.gif"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=35310" id="postnum35310" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
地板</a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon35310" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton35310">发表于 2013-6-1 09:35:38</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=1992" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_35310">
共地。。。。。一定要共地。。。。</td></tr></tbody></table>


</div>
<div id="comment_35310" class="cm">
</div>

<div id="post_rate_div_35310"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition35310"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=35310&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=35310&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_35310').innerHTML ? $('review_support_35310').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_35310"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=35310&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_35310').innerHTML ? $('review_against_35310').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_35310"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_35310" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport35310', 'misc.php?mod=report&amp;rtype=post&amp;rid=35310&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_35310_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_35310')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
</div><div id="post_35313"><table id="pid35313" class="plhin" summary="pid35313" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar35313" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xw1">shenhaiyu</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo35313" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo35313_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xi2">shenhaiyu</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" class="xi2">2260</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_005.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=35313" id="postnum35313" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
<em>5</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon35313" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/ico_lz.png">
&nbsp;楼主<span class="pipe">|</span>
<em id="authorposton35313">发表于 2013-6-1 09:42:52</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=2839" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_35313">
<div class="quote"><blockquote><font size="2"><font color="#999999">friskit 发表于 2013-6-1 09:35</font> <a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;pid=35310&amp;ptid=4781" target="_blank"><img id="aimg_v4kdk" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="static/image/common/back.gif" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" alt="" style="" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/back.gif" lazyloaded="true" _load="1" width="13" height="13" border="0"></a></font><br>
共地。。。。。一定要共地。。。。</blockquote></div><br>
不用啊，有SCK就不用共地了，这个我试验过</td></tr></tbody></table>


</div>
<div id="comment_35313" class="cm">
</div>

<div id="post_rate_div_35313"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition35313"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=35313&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=35313&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_35313').innerHTML ? $('review_support_35313').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_35313"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=35313&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_35313').innerHTML ? $('review_against_35313').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_35313"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_35313" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport35313', 'misc.php?mod=report&amp;rtype=post&amp;rid=35313&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_35313_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_35313')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
<script type="text/javascript" reload="1">
aimgcount[35313] = ['v4kdk'];
attachimggroup(35313);
var aimgfid = 0;
</script>
</div><div id="post_52915"><table id="pid52915" class="plhin" summary="pid52915" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar52915" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=26359" target="_blank" class="xw1">哈哈顺</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo52915" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo52915_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=26359" target="_blank" class="xi2">哈哈顺</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=26359&amp;do=profile" target="_blank" class="xi2">498</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=26359&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=26359" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_004.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=52915" id="postnum52915" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
<em>6</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon52915" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton52915">发表于 2013-12-17 22:27:11</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=26359" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52915">
哈哈，不供地貌似不能形成回路，难道其他的接口有？<br>
</td></tr></tbody></table>


</div>
<div id="comment_52915" class="cm">
</div>

<div id="post_rate_div_52915"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition52915"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=52915&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=52915&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_52915').innerHTML ? $('review_support_52915').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_52915"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=52915&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_52915').innerHTML ? $('review_against_52915').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_52915"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_52915" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport52915', 'misc.php?mod=report&amp;rtype=post&amp;rid=52915&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_52915_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_52915')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
</div><div id="post_52988"><table id="pid52988" class="plhin" summary="pid52988" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar52988" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xw1">shenhaiyu</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo52988" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo52988_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" target="_blank" class="xi2">shenhaiyu</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" class="xi2">2260</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=2839" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_005.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=52988" id="postnum52988" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
<em>7</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon52988" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/ico_lz.png">
&nbsp;楼主<span class="pipe">|</span>
<em id="authorposton52988">发表于 2013-12-18 17:28:16</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=2839" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52988">
<div class="quote"><blockquote><font size="2"><font color="#999999">哈哈顺 发表于 2013-12-17 22:27</font> <a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;pid=52915&amp;ptid=4781" target="_blank"><img id="aimg_Q7lHw" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="static/image/common/back.gif" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" alt="" style="" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/back.gif" lazyloaded="true" _load="1" width="13" height="13" border="0"></a></font><br>
哈哈，不供地貌似不能形成回路，难道其他的接口有？</blockquote></div><br>
哦~~~我是接到一台电脑上了~~~</td></tr></tbody></table>


</div>
<div id="comment_52988" class="cm">
</div>

<div id="post_rate_div_52988"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition52988"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=52988&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=52988&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_52988').innerHTML ? $('review_support_52988').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_52988"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=52988&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_52988').innerHTML ? $('review_against_52988').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_52988"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_52988" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport52988', 'misc.php?mod=report&amp;rtype=post&amp;rid=52988&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_52988_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_52988')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
<script type="text/javascript" reload="1">
aimgcount[52988] = ['Q7lHw'];
attachimggroup(52988);
var aimgfid = 0;
</script>
</div><div id="post_53849"><table id="pid53849" class="plhin" summary="pid53849" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar53849" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" target="_blank" class="xw1">kwleung</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo53849" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo53849_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" target="_blank" class="xi2">kwleung</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894&amp;do=profile" target="_blank" class="xi2">769</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_003.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=53849" id="postnum53849" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
<em>8</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon53849" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton53849">发表于 2013-12-29 23:38:43</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=7894" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_53849">
<div style="width: 100px; height: 100px;background: url(static/image/common/loading.gif) no-repeat center center;"></div><img id="aimg_T4we8" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="http://avrbeginners.net/architecture/img/spi_fig1_a.gif" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" alt="" style="height: 1px; width: 1px;" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/spi_fig1_a.gif" lazyloaded="true" border="0"><br>
<br>
</td></tr></tbody></table>


</div>
<div id="comment_53849" class="cm">
</div>

<div id="post_rate_div_53849"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition53849"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=53849&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=53849&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_53849').innerHTML ? $('review_support_53849').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_53849"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=53849&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_53849').innerHTML ? $('review_against_53849').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_53849"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_53849" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport53849', 'misc.php?mod=report&amp;rtype=post&amp;rid=53849&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_53849_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_53849')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
<script type="text/javascript" reload="1">
aimgcount[53849] = ['T4we8'];
attachimggroup(53849);
var aimgfid = 0;
</script>
</div><div id="post_53851"><table id="pid53851" class="plhin" summary="pid53851" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar53851" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" target="_blank" class="xw1">kwleung</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo53851" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo53851_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" target="_blank" class="xi2">kwleung</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894&amp;do=profile" target="_blank" class="xi2">769</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_003.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=53851" id="postnum53851" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
<em>9</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon53851" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton53851">发表于 2013-12-29 23:42:54</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=7894" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_53851">
<a href="http://www.gammon.com.au/forum/?id=10892" target="_blank">http://www.gammon.com.au/forum/?id=10892</a><br>
<br>
one example : slave send data back to master<br>
</td></tr></tbody></table>


</div>
<div id="comment_53851" class="cm">
</div>

<div id="post_rate_div_53851"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition53851"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=53851&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=53851&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_53851').innerHTML ? $('review_support_53851').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_53851"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=53851&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_53851').innerHTML ? $('review_against_53851').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_53851"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_53851" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport53851', 'misc.php?mod=report&amp;rtype=post&amp;rid=53851&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_53851_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_53851')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
</div><div id="post_53852"><table id="pid53852" class="plhin" summary="pid53852" cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls" rowspan="2">
<div id="favatar53852" class="pls favatar">
 <div class="pi">
<div class="authi"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" target="_blank" class="xw1">kwleung</a>
</div>
</div>
<div class="p_pop blk bui card_gender_" id="userinfo53852" style="display: none; margin-top: -11px;">
<div class="m z">
<div id="userinfo53852_ma"></div>
</div>
<div class="i y">
<div>
<strong><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" target="_blank" class="xi2">kwleung</a></strong>
<em>当前离线</em>
</div><dl class="cl">
<dt>积分</dt><dd><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894&amp;do=profile" target="_blank" class="xi2">769</a></dd>
</dl><div class="imicn">
<a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894&amp;do=profile" target="_blank" title="查看详细资料"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/userinfo.gif" alt="查看详细资料"></a>
</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
<div>
<div class="avatar"><a href="http://www.geek-workshop.com/home.php?mod=space&amp;uid=7894" class="avtm" target="_blank"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/avatar_003.jpg"></a></div>
</div>
</div>
</td>
<td class="plc">
<div class="pi">
<strong>
<a href="http://www.geek-workshop.com/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=4781&amp;pid=53852" id="postnum53852" onclick="setCopy(this.href, '帖子地址复制成功');return false;">
<em>10</em><sup>#</sup></a>
</strong>
<div class="pti">
<div class="pdbt">
</div>
<div class="authi">
<img class="authicn vm" id="authicon53852" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/online_member.gif">
<em id="authorposton53852">发表于 2013-12-29 23:47:13</em>
<span class="pipe">|</span>
<a href="http://www.geek-workshop.com/forum.php?mod=viewthread&amp;tid=4781&amp;page=1&amp;authorid=7894" rel="nofollow">只看该作者</a>
</div>
</div>
</div><div class="pct"><div class="pcb">
<div class="t_fsz">
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_53852">
slave code:<br>
<br>
// Written by Nick Gammon<br>
// April 2011<br>
<br>
#include "pins_arduino.h"<br>
<br>
// what to do with incoming data<br>
byte command = 0;<br>
<br>
// start of transaction, no command yet<br>
void ss_falling ()<br>
{<br>
&nbsp;&nbsp;command = 0;<br>
}&nbsp;&nbsp;// end of interrupt service routine (ISR) ss_falling<br>
<br>
void setup (void)<br>
{<br>
<br>
&nbsp;&nbsp;// have to send on master in, *slave out*<br>
&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>
<br>
&nbsp;&nbsp;// turn on SPI in slave mode<br>
&nbsp;&nbsp;SPCR |= _BV(SPE);<br>
<br>
&nbsp;&nbsp;// turn on interrupts<br>
&nbsp;&nbsp;SPCR |= _BV(SPIE);<br>
<br>
&nbsp;&nbsp;// interrupt for SS falling edge<br>
&nbsp;&nbsp;attachInterrupt (0, ss_falling, FALLING);<br>
&nbsp;&nbsp;<br>
}&nbsp;&nbsp;// end of setup<br>
<br>
<br>
// SPI interrupt routine<br>
ISR (SPI_STC_vect)<br>
{<br>
&nbsp;&nbsp;byte c = SPDR;<br>
 <br>
&nbsp;&nbsp;switch (command)<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;// no command? then this is the command<br>
&nbsp;&nbsp;case 0:<br>
&nbsp; &nbsp; command = c;<br>
&nbsp; &nbsp; SPDR = 0;<br>
&nbsp; &nbsp; break;<br>
&nbsp; &nbsp; <br>
&nbsp;&nbsp;// add to incoming byte, return result<br>
&nbsp;&nbsp;case 'a':<br>
&nbsp; &nbsp; SPDR = c + 15;&nbsp;&nbsp;// add 15<br>
&nbsp; &nbsp; break;<br>
&nbsp; &nbsp; <br>
&nbsp;&nbsp;// subtract from incoming byte, return result<br>
&nbsp;&nbsp;case 's':<br>
&nbsp; &nbsp; SPDR = c - 8;&nbsp;&nbsp;// subtract 8<br>
&nbsp; &nbsp; break;<br>
<br>
&nbsp;&nbsp;} // end of switch<br>
<br>
}&nbsp;&nbsp;// end of interrupt service routine (ISR) SPI_STC_vect<br>
<br>
void loop (void)<br>
{<br>
// all done with interrupts<br>
}&nbsp;&nbsp;// end of loop<br>
<br>
<br>
//////////////////////////////////////////////////////////////////////////////////////////////<br>
Master (example)<br>
<br>
<br>
<br>
<br>
// Written by Nick Gammon<br>
// April 2011<br>
<br>
<br>
#include &lt;SPI.h&gt;<br>
#include "pins_arduino.h"<br>
<br>
void setup (void)<br>
{<br>
&nbsp;&nbsp;Serial.begin (115200);<br>
&nbsp;&nbsp;Serial.println ();<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;digitalWrite(SS, HIGH);&nbsp;&nbsp;// ensure SS stays high for now<br>
<br>
&nbsp;&nbsp;// Put SCK, MOSI, SS pins into output mode<br>
&nbsp;&nbsp;// also put SCK, MOSI into LOW state, and SS into HIGH state.<br>
&nbsp;&nbsp;// Then put SPI hardware into Master mode and turn SPI on<br>
&nbsp;&nbsp;SPI.begin ();<br>
<br>
&nbsp;&nbsp;// Slow down the master a bit<br>
&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV8);<br>
&nbsp;&nbsp;<br>
}&nbsp;&nbsp;// end of setup<br>
<br>
byte transferAndWait (const byte what)<br>
{<br>
&nbsp;&nbsp;byte a = SPI.transfer (what);<br>
&nbsp;&nbsp;delayMicroseconds (20);<br>
&nbsp;&nbsp;return a;<br>
} // end of transferAndWait<br>
<br>
void loop (void)<br>
{<br>
<br>
&nbsp;&nbsp;byte a, b, c, d;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;// enable Slave Select<br>
&nbsp;&nbsp;digitalWrite(SS, LOW);&nbsp; &nbsp; <br>
<br>
&nbsp;&nbsp;transferAndWait ('a');&nbsp;&nbsp;// add command<br>
&nbsp;&nbsp;transferAndWait (10);<br>
&nbsp;&nbsp;a = transferAndWait (17);<br>
&nbsp;&nbsp;b = transferAndWait (33);<br>
&nbsp;&nbsp;c = transferAndWait (42);<br>
&nbsp;&nbsp;d = transferAndWait (0);<br>
<br>
&nbsp;&nbsp;// disable Slave Select<br>
&nbsp;&nbsp;digitalWrite(SS, HIGH);<br>
<br>
&nbsp;&nbsp;Serial.println ("Adding results:");<br>
&nbsp;&nbsp;Serial.println (a, DEC);<br>
&nbsp;&nbsp;Serial.println (b, DEC);<br>
&nbsp;&nbsp;Serial.println (c, DEC);<br>
&nbsp;&nbsp;Serial.println (d, DEC);<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;// enable Slave Select<br>
&nbsp;&nbsp;digitalWrite(SS, LOW);&nbsp; &nbsp;<br>
<br>
&nbsp;&nbsp;transferAndWait ('s');&nbsp;&nbsp;// subtract command<br>
&nbsp;&nbsp;transferAndWait (10);<br>
&nbsp;&nbsp;a = transferAndWait (17);<br>
&nbsp;&nbsp;b = transferAndWait (33);<br>
&nbsp;&nbsp;c = transferAndWait (42);<br>
&nbsp;&nbsp;d = transferAndWait (0);<br>
<br>
&nbsp;&nbsp;// disable Slave Select<br>
&nbsp;&nbsp;digitalWrite(SS, HIGH);<br>
<br>
&nbsp;&nbsp;Serial.println ("Subtracting results:");<br>
&nbsp;&nbsp;Serial.println (a, DEC);<br>
&nbsp;&nbsp;Serial.println (b, DEC);<br>
&nbsp;&nbsp;Serial.println (c, DEC);<br>
&nbsp;&nbsp;Serial.println (d, DEC);<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;delay (1000);&nbsp;&nbsp;// 1 second delay <br>
}&nbsp;&nbsp;// end of loop<br>
</td></tr></tbody></table>


</div>
<div id="comment_53852" class="cm">
</div>

<div id="post_rate_div_53852"></div>
</div>
</div>

</td></tr>
<tr><td class="plc plm">
</td>
</tr>
<tr id="_postposition53852"></tr>
<tr>
<td class="pls"></td>
<td class="plc" style="overflow:visible;">
<div class="po hin">
<div class="pob cl">
<em>
<a class="fastre" href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;repquote=53852&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)">回复</a>
<a class="replyadd" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=support&amp;tid=4781&amp;pid=53852&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_support_53852').innerHTML ? $('review_support_53852').innerHTML : 0) + ' 人 支持'">支持 <span id="review_support_53852"></span></a>
<a class="replysubtract" href="http://www.geek-workshop.com/forum.php?mod=misc&amp;action=postreview&amp;do=against&amp;tid=4781&amp;pid=53852&amp;hash=f1638613" onclick="showWindow('login', this.href)" onmouseover="this.title = ($('review_against_53852').innerHTML ? $('review_against_53852').innerHTML : 0) + ' 人 反对'">反对 <span id="review_against_53852"></span></a>
</em>

<p>
<a href="javascript:;" id="mgc_post_53852" onmouseover="showMenu(this.id)" class="showmenu" style="display: none;"></a>
<a href="javascript:;" onclick="showWindow('miscreport53852', 'misc.php?mod=report&amp;rtype=post&amp;rid=53852&amp;tid=4781&amp;fid=49', 'get', -1);return false;">举报</a>
</p>

<ul id="mgc_post_53852_menu" class="p_pop mgcmn" style="display: none;">
</ul>
<script type="text/javascript" reload="1">checkmgcmn('post_53852')</script>
</div>
</div>
</td>
</tr>
<tr class="ad">
<td class="pls">
</td>
<td class="plc">
</td>
</tr>
</tbody></table>
</div><div id="postlistreply" class="pl"><div id="post_new" class="viewthread_table" style="display: none"></div></div>
</div>


<form method="post" autocomplete="off" name="modactions" id="modactions">
<input name="formhash" value="f1638613" type="hidden">
<input name="optgroup" type="hidden">
<input name="operation" type="hidden">
<input name="listextra" value="page%3D1" type="hidden">
<input name="page" value="1" type="hidden">
</form>


<div class="pgbtn"><a href="http://www.geek-workshop.com/thread-4781-2-1.html" hidefocus="true" class="bm_h">下一页 &#187;</a></div>

<div class="pgs mtm mbm cl">
<div class="pg"><strong>1</strong><a href="http://www.geek-workshop.com/thread-4781-2-1.html">2</a><a href="http://www.geek-workshop.com/thread-4781-3-1.html">3</a><a href="http://www.geek-workshop.com/thread-4781-4-1.html">4</a><label><input name="custompage" class="px" size="2" title="输入页码，按回车快速跳转" value="1" onkeydown="if(event.keyCode==13) {window.location='forum.php?mod=viewthread&amp;tid=4781&amp;extra=page%3D1&amp;page='+this.value;; doane(event);}" type="text"><span title="共 4 页"> / 4 页</span></label><a href="http://www.geek-workshop.com/thread-4781-2-1.html" class="nxt">下一页</a></div><span class="pgb y" id="visitedforumstmp" onmouseover="$('visitedforums').id = 'visitedforumstmp';this.id = 'visitedforums';showMenu({'ctrlid':this.id,'pos':'21'})"><a href="http://www.geek-workshop.com/forum-49-1.html">返回列表</a></span>
<a id="newspecialtmp" onmouseover="$('newspecial').id = 'newspecialtmp';this.id = 'newspecial';showMenu({'ctrlid':this.id})" onclick="showWindow('newthread', 'forum.php?mod=post&amp;action=newthread&amp;fid=49')" href="javascript:;" title="发新帖"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/pn_post.png" alt="发新帖"></a>
</div>

<!--[diy=diyfastposttop]--><div id="diyfastposttop" class="area"></div><!--[/diy]-->
<script type="text/javascript">
var postminchars = parseInt('10');
var postmaxchars = parseInt('1000000');
var disablepostctrl = parseInt('0');
</script>

<div id="f_pst" class="pl bm bmw">
<form method="post" autocomplete="off" id="fastpostform" action="forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;extra=page%3D1&amp;replysubmit=yes&amp;infloat=yes&amp;handlekey=fastpost" onsubmit="return fastpostvalidate(this)">
<table cellspacing="0" cellpadding="0">
<tbody><tr>
<td class="pls">
</td>
<td class="plc">

<span id="fastpostreturn"></span>


<div class="cl">
<div id="fastsmiliesdiv" class="y"><div id="fastsmiliesdiv_data"><div id="fastsmilies"></div></div></div><div class="hasfsl" id="fastposteditor">
<div class="tedt mtn">
<div class="bar">
<span class="y">
<a href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781" onclick="return switchAdvanceMode(this.href)">高级模式</a>
</span><script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/seditor.js" type="text/javascript"></script>
<div class="fpd">
<a href="javascript:;" title="文字加粗" class="fbld">B</a>
<a href="javascript:;" title="设置文字颜色" class="fclr" id="fastpostforecolor">Color</a>
<a id="fastpostimg" href="javascript:;" title="图片" class="fmg">Image</a>
<a id="fastposturl" href="javascript:;" title="添加链接" class="flnk">Link</a>
<a id="fastpostquote" href="javascript:;" title="引用" class="fqt">Quote</a>
<a id="fastpostcode" href="javascript:;" title="代码" class="fcd">Code</a>
<a href="javascript:;" class="fsml" id="fastpostsml">Smilies</a>
</div></div>
<div class="area">
<div class="pt hm">
您需要登录后才可以回帖 <a href="http://www.geek-workshop.com/member.php?mod=logging&amp;action=login" onclick="showWindow('login', this.href)" class="xi2">登录</a> | <a href="http://www.geek-workshop.com/member.php?mod=register" class="xi2">注册</a>


<a href="http://www.geek-workshop.com/connect.php?mod=login&amp;op=init&amp;referer=forum.php%3Fmod%3Dviewthread%26tid%3D4781%26extra%3Dpage%253D1%26page%3D1&amp;statfrom=login" target="_top" rel="nofollow"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/qq_login.gif" class="vm"></a>

</div>
</div>
</div>
</div>
</div>
<div id="seccheck_fastpost">
</div>


<input name="formhash" value="f1638613" type="hidden">
<input name="usesig" value="" type="hidden">
<input name="subject" value="  " type="hidden">
<p class="ptm pnpost">
<a href="http://www.geek-workshop.com/home.php?mod=spacecp&amp;ac=credit&amp;op=rule&amp;fid=49" class="y" target="_blank">本版积分规则</a>
<button type="button" onclick="showWindow('login', 'member.php?mod=logging&amp;action=login&amp;guestmessage=yes')" name="replysubmit" id="fastpostsubmit" class="pn pnc vm" value="replysubmit" tabindex="5"><strong>发表回复</strong></button>
<label for="fastpostrefresh"><input id="fastpostrefresh" class="pc" type="checkbox">回帖后跳转到最后一页</label>
<script type="text/javascript">if(getcookie('fastpostrefresh') == 1) {$('fastpostrefresh').checked=true;}</script>
</p>
</td>
</tr>
</tbody></table>
</form>
</div>

<script type="text/javascript">
var connect_qzone_share_url = '';
var connect_weibo_share_url = '';
var connect_thread_info = {
thread_url: 'http://www.geek-workshop.com/thread-4781-1-1.html',
thread_id: '4781',
post_id: '',
forum_id: '49',
author_id: '',
author: ''
};

connect_autoshare = '';
connect_isbind = '';
if(connect_autoshare == 1 && connect_isbind) {
_attachEvent(window, 'load', function(){
connect_share(connect_weibo_share_url, connect_openid);
});
}
</script>


<div id="visitedforums_menu" class="p_pop blk cl" style="display: none;">
<table cellspacing="0" cellpadding="0">
<tbody><tr>
<td id="v_forums">
<h3 class="mbn pbn bbda xg1">浏览过的版块</h3>
<ul class="xl xl1">
<li><a href="http://www.geek-workshop.com/forum-58-1.html">求助区</a></li><li><a href="http://www.geek-workshop.com/forum-61-1.html">Energia（MSP430）</a></li></ul>
</td>
</tr>
</tbody></table>
</div>
<script type="text/javascript">
new lazyload();
</script>
<script type="text/javascript">document.onkeyup = function(e){keyPageScroll(e, 0, 1, 'forum.php?mod=viewthread&tid=4781', 1);}</script>
</div>

<div class="wp mtn">
<!--[diy=diy3]--><div id="diy3" class="area"></div><!--[/diy]-->
</div>

<script type="text/javascript">
function succeedhandle_followmod(url, msg, values) {
var fObj = $('followmod_'+values['fuid']);
if(values['type'] == 'add') {
fObj.innerHTML = '不收听';
fObj.href = 'home.php?mod=spacecp&ac=follow&op=del&fuid='+values['fuid'];
} else if(values['type'] == 'del') {
fObj.innerHTML = '收听TA';
fObj.href = 'home.php?mod=spacecp&ac=follow&op=add&hash=f1638613&fuid='+values['fuid'];
}
}
fixed_avatar([35156,35172,35205,35310,35313,52915,52988,53849,53851,53852], 1);
</script>	</div>


<div id="ft" class="wp cl">
<div id="flk" class="y">
<p>
<a href="http://www.geek-workshop.com/archiver/">Archiver</a><span class="pipe">|</span><a href="http://www.geek-workshop.com/tel.htm">联系我们</a><span class="pipe">|</span><strong><a href="http://www.geek-workshop.com/" target="_blank">极客工坊</a></strong>
( <a href="http://www.miitbeian.gov.cn/" target="_blank">浙ICP备09023225号</a> )&nbsp;<a href="http://discuz.qq.com/service/security" target="_blank" title="防水墙保卫网站远离侵害"><img src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/security.png"></a>&nbsp;&nbsp;<a href="http://stats.discuz.qq.com/?ADTAG=FROUM.FOOTER.CLICK.ICON" title="腾讯分析" target="_blank"><img title="腾讯分析" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/toss_11.gif" border="0"></a><script type="text/javascript" src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/ping.js" charset="utf-8"></script><script type="text/javascript" reload="1">pgvMain({"discuzParams":{"r2":"5140430","ui":0,"rt":"forum","md":"viewthread","fi":"49","ti":"4781","pn":1,"qq":"000","logo":11},"extraParams":""});</script></p>
<p class="xs0">
GMT+8, 2016-11-26 13:14<span id="debuginfo">
, Processed in 0.179758 second(s), 25 queries
, Gzip On.
</span>
</p>
</div>
<div id="frt">
<p>Powered by <strong><a href="http://www.discuz.net/" target="_blank">Discuz!</a></strong> <em>X3.2</em></p>
<p class="xs0">&#169; 2001-2013 <a href="http://www.comsenz.com/" target="_blank">Comsenz Inc.</a></p>
</div></div>
<div id="scrolltop" style="left: 1160px; visibility: visible;">
<span><a href="http://www.geek-workshop.com/forum.php?mod=post&amp;action=reply&amp;fid=49&amp;tid=4781&amp;extra=page%3D1&amp;page=1" onclick="showWindow('reply', this.href)" class="replyfast" title="快速回复"><b>快速回复</b></a></span>
<span hidefocus="true"><a title="返回顶部" onclick="window.scrollTo('0','0')" class="scrolltopa"><b>返回顶部</b></a></span>
<span>
<a href="http://www.geek-workshop.com/forum-49-1.html" hidefocus="true" class="returnlist" title="返回列表"><b>返回列表</b></a>
</span>
</div>
<script type="text/javascript">_attachEvent(window, 'scroll', function () { showTopLink(); });checkBlind();</script>
			<div id="discuz_tips" style="display:none;"></div>
			<script type="text/javascript">
				var tipsinfo = '5140430|X3.2|0.6||0||0|7|1480137259|8cef33bc551a6d6ade6db23bc91b8835|2';
			</script>
			<script src="%E4%B8%A4%E4%B8%AAArduino%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8CSPI%E9%80%9A%E4%BF%A1%20-%20Powered%20by%20Discuz%21_files/discuz_tips.js" type="text/javascript" charset="UTF-8"></script>

</body></html>